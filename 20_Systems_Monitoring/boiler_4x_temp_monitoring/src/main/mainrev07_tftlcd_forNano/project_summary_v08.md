# 🔥 4채널 보일러 온도 모니터링 시스템 (Ver 08)

이 문서는 아두이노 나노와 Nextion 디스플레이를 활용하여 구축된 **'4채널 실시간 온도 모니터링 시스템'**의 최종 완성 버전(v08)에 대한 소개입니다.

---

## 1. 시스템 개요
보일러 배관의 입수/환수 온도를 실시간으로 측정하여, 시각적인 그래프와 수치로 보여주는 전용 모니터링 장치입니다. 작은 **아두이노 나노(Arduino Nano)** 보드 하나로 4개의 센서와 터치 디스플레이를 완벽하게 제어하는 것이 특징입니다.

## 2. 핵심 기능

### 📊 실시간 웨이브폼 그래프 (Real-time Waveform)
- **4채널 동시 출력**: 4개의 온도 변화를 하나의 그래프에서 색상별로 구분하여 표시합니다.
- **채널 독립 제어**: 터치 버튼으로 보고 싶은 채널만 켜거나 끌 수 있습니다.
- **리플레이(Replay) 동기화**: 채널을 껐다가 다시 켜도, 과거 데이터를 버퍼에서 불러와 끊김 없이 그래프를 이어줍니다.

### 🌡️ 정밀 온도 측정
- **DS18B20 센서 4개**: 0.1도 단위의 정밀한 온도 변화를 감지합니다.
- **차이값(Delta T) 자동 계산**: (S1-S2), (S3-S4) 간의 온도 차이를 자동으로 계산하여 표시해 줍니다.
- **안정적인 데이터**: 노이즈나 ID 꼬임 없이 지정된 위치(#1~#4)의 온도를 정확히 매칭합니다.

### ⚙️ 사용자 편의 기능 (HMI)
- **설정 페이지**: 화면 밝기 조절 및 화면 보호기(절전 모드) 시간을 터치로 설정합니다.
- **상태 저장**: 껐다 켜도 사용자가 설정한 밝기와 채널 상태가 유지됩니다.

---

## 3. 기술적 특징 (Developer Note)

### 🚀 하드웨어 한계 극복 (Memory Optimization)
아두이노 나노는 메모리(RAM)가 2KB밖에 되지 않습니다.
- **Non-blocking 구조**: `delay()`를 쓰지 않고 비동기 방식으로 코딩하여 화면이 절대 멈추지 않습니다.
- **효율적 버퍼링**: 제한된 메모리 안에서 최대 4분의 과거 데이터를 저장하기 위해 순환 버퍼(Circular Buffer) 알고리즘을 최적화했습니다.

### ⚡ Nextion HMI 통신 최적화
- **MCU 분산 처리**: 복잡한 화면 전환이나 UI 로직은 디스플레이(Nextion)가 직접 처리하게 하고, 아두이노는 오직 데이터 전송에만 집중하여 성능을 극대화했습니다. 

---

**결론**: 이 시스템은 제한된 하드웨어 자원을 극한까지 활용하여, 상용 제품 수준의 반응 속도와 안정성을 갖춘 DIY 모니터링 솔루션입니다.
