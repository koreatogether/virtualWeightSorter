### 출처
https://projecthub.arduino.cc/abcda123/adjustable-air-quality-monitoring-analysis-platform-with-plug-unplug-system-8a0057

### 소개 
조정 가능한 공기질 모니터링 및 분석 플랫폼(Plug-UnPlug System 포함)
이 프로젝트는 각각 개별적으로 생성된 슬로프가 있는 15개의 서로 다른 가스 센서를 사용하여 PPM(백만분율)을 계산하는 것을 목표로 합니다. 
교정에 대해 걱정할 필요가 없습니다. 이 프로세스는 라이브러리에 의해 완전히 자동화됩니다. 
다중 가스 센서 시스템은 플러그 앤 플레이 기능과 조정 가능한 구조로 매우 유연하여 
사용자가 원하는 가스 센서를 쉽게 선택할 수 있습니다.

### 테스트에 쓰인 센서
1.MQ-2 센서
2.MQ-3 센서
3.MQ-4 센서
4.MQ-5 센서
5.MQ-6 센서
6.MQ-7 센서
7.MQ-8 센서
8.MQ-9 센서

1.MQ-303A 센서
2.MQ-307A 센서
3.MQ-131 센서
4.MQ-135 센서
5.MQ-136 센서
6.MQ-137 센서

### 가상테스트 
https://wokwi.com/projects/409937183367899137

### 라이브러리 
https://github.com/abcdaaaaaaaaa/MQSpaceData.h

### 코드상의 주요 기능
1. 플러그 앤 플레이 시스템 : 필요에 따라서 언제든 교체 가능
2. 가상 캘리브레이션 각 센서에 대한 가상 캘리브레이션이 생성, 정확한 PPM 계산가능
3. 서로 다른 가스 센서를 사용하며 , 각 센서에는 개별적으로 생성된 슬로프 및 보정이 있음
   
### 응용 분야
1.공기질 모니터링
2.산업 응용 분야
3.학술 연구

### 코드
```cpp
#include <MQSpaceData.h>
#include <LiquidCrystal_I2C.h>

#define ADC_BIT_RESU  (10)
#define space         (A1)

#define pot analogRead(A0)

MQSpaceData MQ(ADC_BIT_RESU, space);

int lcdColumns = 16;
int lcdRows = 2;

int x, Air;
String xname, mode, strper;

LiquidCrystal_I2C lcd(0x27, lcdColumns, lcdRows); 

void setup() {
  MQ.begin();
  lcd.init();
  lcd.backlight();
}

void loop() {
  switch (map(pot, 0, (1 << ADC_BIT_RESU) - 1, 1, 15)) {
    case (1): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(3.6); MQ.setRL(20); mode = "MQ-135"; MQ135(); break;
    case (2): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(9.8); MQ.setRL(20); mode = "MQ-2"; MQ2(); break;
    case (3): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(60.53); MQ.setRL(200); mode = "MQ-3"; MQ3(); break;
    case (4): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(4.4); MQ.setRL(20); mode = "MQ-4"; MQ4(); break;
    case (5): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(6.5); MQ.setRL(20); mode = "MQ-5"; MQ5(); break;
    case (6): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(10); MQ.setRL(20); mode = "MQ-6"; MQ6(); break;
    case (7): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(26); MQ.setRL(10); mode = "MQ-7"; MQ7(); break;
    case (8): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(70); MQ.setRL(10); mode = "MQ-8"; MQ8(); break;
    case (9): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(9.7); MQ.setRL(20); mode = "MQ-9"; MQ9(); break;
    case (10): MQ.setRatio("Ro/Rs"); MQ.RSRoMQAir(12); MQ.setRL(100); mode = "MQ131"; MQ131(); break;
    case (11): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(3.54); MQ.setRL(20); mode = "MQ-136"; MQ136(); break;
    case (12): MQ.setRatio("Rs/Ro"); MQ.RSRoMQAir(3.54); MQ.setRL(47); mode = "MQ-137"; MQ137(); break;
    case (13): MQ.setRatio("Rs/Rs"); MQ.setRL(47); mode = "MQ303A"; MQ303A(); break;
    case (14): MQ.setRatio("Rs/Rs"); MQ.setRL(50); mode = "MQ307A"; MQ307A(); break;
    case (15): MQ.setRatio("Rs/Rs"); MQ.setRL(50); mode = "MQ309A"; MQ309A(); break;
  }
}

void hello() {
  lcd.setCursor(0, 0);
  lcd.print("Air:" + String(Air));
  lcd.setCursor(16 - mode.length(), 0);
  lcd.print(mode);
  lcd.setCursor(0, 1);
  lcd.print(xname + ":" + String(x));
  strper = String(int(MQ.MQData100()));
  lcd.setCursor(16 - strper.length() - 1, 1);
  lcd.print("%" + strper);
  delay(1500);
  lcd.clear();
}

void MQ135(){
  xname = "CO";
  MQ.dangerousPer(42.5); 
  x = MQ.MQ135DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(25.55); 
  x = MQ.MQ135DataAlcohol();
  hello();

  xname = "CO2";
  MQ.dangerousPer(27.77);
  x = MQ.MQ135DataCO2();
  hello();

  xname = "Toluen";
  MQ.dangerousPer(21.944);
  x = MQ.MQ135DataToluen();
  hello();

  xname = "NH4";
  MQ.dangerousPer(29.166);
  x = MQ.MQ135DataNH4();
  hello();

  xname = "Aceton";
  MQ.dangerousPer(20.55);
  x = MQ.MQ135DataAceton();
  hello();

  Air = MQ.MQ135DataAir();
}

void MQ2() {
  xname = "H2";
  MQ.dangerousPer(10.2);
  x = MQ.MQ2DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(7.96);
  x = MQ.MQ2DataLPG();
  hello();

  xname = "CO";
  MQ.dangerousPer(31.63);
  x = MQ.MQ2DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(16.33);
  x = MQ.MQ2DataAlcohol();
  hello();

  xname = "Propane";
  MQ.dangerousPer(8.38);
  x = MQ.MQ2DataPropane();
  hello();

  xname = "CH4";
  MQ.dangerousPer(17.86);
  x = MQ.MQ2DataCH4();
  hello();

  xname = "Smoke";
  MQ.dangerousPer(18.98);
  x = MQ.MQ2Datasmoke();
  hello();

  Air = MQ.MQ2DataAir();
}

void MQ3() {
  xname = "H2";
  MQ.dangerousPer(10.2);
  x = MQ.MQ2DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(7.96);
  x = MQ.MQ2DataLPG();
  hello();

  xname = "CO";
  MQ.dangerousPer(31.63);
  x = MQ.MQ2DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(16.33);
  x = MQ.MQ2DataAlcohol();
  hello();

  xname = "Propane";
  MQ.dangerousPer(8.38);
  x = MQ.MQ2DataPropane();
  hello();

  xname = "CH4";
  MQ.dangerousPer(17.86);
  x = MQ.MQ2DataCH4();
  hello();

  xname = "Smoke";
  MQ.dangerousPer(18.98);
  x = MQ.MQ2Datasmoke();
  hello();

  Air = MQ.MQ2DataAir();
}

void MQ4() {
  xname = "H2";
  MQ.dangerousPer(64.43);
  x = MQ.MQ4DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(34.32);
  x = MQ.MQ4DataLPG();
  hello();

  xname = "CH4";
  MQ.dangerousPer(22.73);
  x = MQ.MQ4DataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(86.14);
  x = MQ.MQ4DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(82.05);
  x = MQ.MQ4DataAlcohol();
  hello();

  xname = "Smoke";
  MQ.dangerousPer(80.23);
  x = MQ.MQ4DataSmoke();
  hello();

  Air = MQ.MQ4DataAir();
}

void MQ5() {
  xname = "H2";
  MQ.dangerousPer(15.12);
  x = MQ.MQ5DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(5.54);
  x = MQ.MQ5DataLPG();
  hello();

  xname = "CH4";
  MQ.dangerousPer(7.92);
  x = MQ.MQ5DataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(44.15);
  x = MQ.MQ5DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(39.38);
  x = MQ.MQ5DataAlcohol();
  hello();

  Air = MQ.MQ5DataAir();
}

void MQ6() {
  xname = "H2";
  MQ.dangerousPer(33.7);
  x = MQ.MQ6DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(10);
  x = MQ.MQ6DataLPG();
  hello();

  xname = "CH4";
  MQ.dangerousPer(13.5);
  x = MQ.MQ6DataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(78);
  x = MQ.MQ6DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(61.2);
  x = MQ.MQ6DataAlcohol();
  hello();

  Air = MQ.MQ6DataAir();
}

void MQ7() {
  xname = "H2";
  MQ.dangerousPer(3.08);
  x = MQ.MQ7DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(30.77);
  x = MQ.MQ7DataLPG();
  hello();

  xname = "CH4";
  MQ.dangerousPer(49.18);
  x = MQ.MQ7DataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(3.85);
  x = MQ.MQ7DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(57.69);
  x = MQ.MQ7DataAlcohol();
  hello();

  Air = MQ.MQ7DataAir();
}

void MQ8() {
  xname = "H2";
  MQ.dangerousPer(1.43);
  x = MQ.MQ8DataH2();
  hello();

  xname = "LPG";
  MQ.dangerousPer(27.53);
  x = MQ.MQ8DataLPG();
  hello();

  xname = "CH4";
  MQ.dangerousPer(63.47);
  x = MQ.MQ8DataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(80.57);
  x = MQ.MQ8DataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(14.81);
  x = MQ.MQ8DataAlcohol();
  hello();

  Air = MQ.MQ8DataAir();
}

void MQ9() {
  xname = "LPG";
  MQ.dangerousPer(10.31);
  x = MQ.MQ9DataLPG();
  hello();

  xname = "CH4";
  MQ.dangerousPer(18.04);
  x = MQ.MQ9DataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(8);
  x = MQ.MQ9DataCO();
  hello();

  Air = MQ.MQ9DataAir();
}

void MQ131() {
  float MaxAir = 100; 
  
  xname = "NOx";
  MQ.dangerousPer(23.75);
  x = MQ.readRoRsratio(MQ.MQ131DataNOx(), MaxAir);
  hello();

  xname = "CL2";
  MQ.dangerousPer(8.33);
  x = MQ.readRoRsratio(MQ.MQ131DataCL2(), MaxAir);
  hello();

  xname = "O3";
  MQ.dangerousPer(4.166);
  x = MQ.readRoRsratio(MQ.MQ131DataO3(), MaxAir);
  hello();

  Air = MQ.MQ131DataAir();
}

void MQ136() {
  xname = "H2S";
  MQ.dangerousPer(40.68);
  x = MQ.MQ136DataH2S();
  hello();

  xname = "NH4";
  MQ.dangerousPer(72);
  x = MQ.MQ136DataNH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(81.64);
  x = MQ.MQ136DataCO();
  hello();

  Air = MQ.MQ136DataAir();
}

void MQ137() {
  xname = "CO";
  MQ.dangerousPer(81.64);
  x = MQ.MQ137DataCO();
  hello();

  xname = "Ethanol";
  MQ.dangerousPer(72);
  x = MQ.MQ137DataEthanol();
  hello();

  xname = "NH3";
  MQ.dangerousPer(40.68);
  x = MQ.MQ137DataNH3();
  hello();

  Air = MQ.MQ137DataAir();
}

void MQ303A() {
  xname = "IsoButane";
  MQ.dangerousPer(28);
  x = MQ.MQ303ADataIso();
  hello();

  xname = "Hydrogen";
  MQ.dangerousPer(21);
  x = MQ.MQ303ADataHyd();
  hello();

  xname = "Ethanol";
  MQ.dangerousPer(27);
  x = MQ.MQ303ADataEthanol();
  hello();

  Air = MQ.MQ303ADataAir();
}

void MQ309A() {
  xname = "H2";
  MQ.dangerousPer(11.4545);
  x = MQ.MQ309ADataH2();
  hello();

  xname = "CH4";
  MQ.dangerousPer(9.0909);
  x = MQ.MQ309ADataCH4();
  hello();

  xname = "CO";
  MQ.dangerousPer(54.5454);
  x = MQ.MQ309ADataCO();
  hello();

  xname = "Alcohol";
  MQ.dangerousPer(49.0909);
  x = MQ.MQ309ADataAlcohol();
  hello();

  Air = MQ.MQ309ADataAir();
}

void MQ307A(){
  xname = "CO";
  MQ.dangerousPer(0.96);
  x = MQ.MQ307ADataCO();
  hello();

  xname = "H2";
  MQ.dangerousPer(56.107);
  x = MQ.MQ307ADataH2();
  hello();
}

// MQ-X: [PIN --> A1] [GND --> GND] [VCC --> 5V]
// Potentiometer: [PIN --> A0] [GND --> GND] [VCC --> 5V]
```