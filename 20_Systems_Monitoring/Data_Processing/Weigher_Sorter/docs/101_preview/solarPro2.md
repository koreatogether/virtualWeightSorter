### 요약 및 아두이노 기반 개념 테스트 설계 방안

#### 1. **조합형 중량 선별기 핵심 기능**
   - **목표**: 과일(포도, 배, 사과 등)의 중량을 측정하여 사용자가 설정한 조합(갯수, 총중량)에 따라 분류.
   - **기능 요약**:
     - 다중 트레이(최대 12개)에서 동시 측정.
     - 사용자 정의 중량 기준 설정 (예: 2kg 조합).
     - LED로 기준 충족/미달 표시 (녹색/적색).
     - 총 생산량, 박스 수 등 통계 출력.

---

#### 2. **아두이노 개념 테스트 설계**
   - **목표**: 로드셀 없이 **개념 검증** (센서 없이 가상 중량 데이터 생성 및 처리).
   - **구성 요소**:
     1. **가상 중량 입력**: 
        - **가변저항(Potentiometer)** 12개 사용 → 각 트레이의 중량 시뮬레이션.
        - 아날로그 핀(A0~A11)에 연결, 0~1023 값을 중량 범위(0~5kg)로 매핑.
     2. **사용자 입력**:
        - 버튼 2개: **목표 중량 설정**, **조합 수 설정**.
        - 예: 버튼 A = 목표 중량 증가, 버튼 B = 조합 수 증가.
     3. **처리 로직**:
        - 아두이노가 가변저항 값을 읽어 중량 배열로 저장.
        - 설정된 목표 중량과 조합 수에 맞는 **부분집합 탐색** (예: 6개 트레이 합이 2kg).
        - 단순화된 알고리즘: 각 트레이 개별 중량 기준 충족 여부 확인 (예: 300~350g).
     4. **출력**:
        - **LCD 디스플레이**: 총 중량, 조합 수, 기준 충족 트레이 수 표시.
        - **LED 12개**: 각 트레이 기준 충족 시 녹색, 미달 시 적색 점등.

---

#### 3. **코드 예시 (개념 검증용)**
```cpp
#include <LiquidCrystal.h>

// LCD 설정 (RS, E, D4, D5, D6, D7)
LiquidCrystal lcd(12, 11, 5, 4, 3, 2);

const int potPins[12] = {A0, A1, A2, A3, A4, A5, A6, A7, A8, A9, A10, A11};
const int ledPins[12] = {6, 7, 8, 9, 10, 13, 4, 3, 2, 1, 0, 14}; // 실제 핀 번호 조정 필요
int targetWeight = 2000; // 목표 중량 (g)
int comboCount = 6;      // 조합 수

void setup() {
  lcd.begin(16, 2);
  for (int i = 0; i < 12; i++) {
    pinMode(ledPins[i], OUTPUT);
  }
  Serial.begin(9600);
}

void loop() {
  int weights[12];
  int total = 0;
  
  // 가변저항 값 읽기 및 중량 계산
  for (int i = 0; i < 12; i++) {
    int val = analogRead(potPins[i]);
    weights[i] = map(val, 0, 1023, 0, 5000); // 0~5000g
    total += weights[i];
  }

  // LCD 출력
  lcd.clear();
  lcd.print("Total: ");
  lcd.print(total / 1000.0); // kg 단위
  lcd.setCursor(0, 1);
  lcd.print("Target: ");
  lcd.print(targetWeight / 1000.0);

  // LED 점등 로직 (단순화된 기준)
  for (int i = 0; i < 12; i++) {
    if (weights[i] >= (targetWeight / comboCount) - 100 && 
        weights[i] <= (targetWeight / comboCount) + 100) {
      digitalWrite(ledPins[i], HIGH); // 녹색 LED
    } else {
      digitalWrite(ledPins[i], LOW);  // 적색 LED (회로에 따라 반전)
    }
  }

  delay(500);
}
```

---

#### 4. **테스트 방법**
   - **가변저항 조절**: 각 트레이의 중량을 수동으로 변경하며 LED 반응 확인.
   - **버튼 입력 추가**: 목표 중량과 조합 수를 조정할 수 있는 버튼 회로 확장.
   - **LCD 확인**: 총 중량과 목표 중량 비교 결과 표시.

---

#### 5. **향후 개선 방향**
   - **실제 로드셀 연동**: HX711 센서 모듈 추가로 정밀 측정 구현.
   - **조합 알고리즘 최적화**: 부분집합 탐색 알고리즘 (예: 동적 계획법) 적용.
   - **터치스크린 인터페이스**: 사용자 설정 편의성 향상.

이 설계를 통해 실제 하드웨어 없이도 조합형 중량 선별기의 핵심 개념을 검증할 수 있습니다.