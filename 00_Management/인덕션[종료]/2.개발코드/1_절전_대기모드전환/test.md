# 4_전원_대기모드진입.ino 테스트 절차

본 문서는 `4_전원_대기모드진입.ino` 스케치의 버튼 입력 및 모드 전환 기능을 테스트하는 절차를 설명합니다.

## 1. 사전 준비 사항

- **하드웨어**
  - Arduino Uno 보드
  - TM1637 7-Segment Display 2개 (시간 표시, 인덕션 화구 표시)
  - LED (음성 표시용)
  - 버튼 3개 (전원 버튼, 전원 플러스 버튼(구현안함), 전원 마이너스 버튼(구현 안함))
  - 연결 배선, 저항 220옴 1개 등
- **소프트웨어**
  - Arduino IDE 설치
  - ezButton 라이브러리 설치 , 주소 : https://github.com/ArduinoGetStarted/button
  - TM1637 라이브러리 설치 , 주소 : https://github.com/Seeed-Studio/Grove_4Digital_Display

## 2. 하드웨어 연결

1. **7-Segment Display (시간 표시)**
   - DIO: Arduino 핀 4
   - CLK: Arduino 핀 5

2. **7-Segment Display (인덕션 화구 표시)**
   - DIO: Arduino 핀 10
   - CLK: Arduino 핀 11

3. **LED (음성 표시용)**
   - LED 핀: Arduino 핀 3

4. **버튼**
   - **전원 버튼:** Arduino 핀 2 (풀업 모드 사용)
   - **전원 플러스 버튼:** Arduino 핀 13 ( 구현 안됨 )
   - **전원 마이너스 버튼:** Arduino 핀 12 ( 구현 안됨 )

5. 모든 부품의 접지(GND)가 연결되어야 합니다.

## 3. 소프트웨어 설정

1. Arduino IDE에서 `4_전원_대기모드진입.ino` 파일을 엽니다.
2. 코드 내 라이브러리 설정과 핀 연결을 확인합니다.
3. 코드가 컴파일 오류 없이 빌드되는지 확인합니다.
4. 보드와 포트 설정을 확인한 후, Arduino 보드에 코드를 업로드합니다.

## 4. 테스트 절차

### (1) 초기 설정 확인
- **목적:** 시스템 초기화 메시지와 디스플레이, LED 상태 확인
- **절차:**
  - 시리얼 모니터(9600 보드레이트)를 열어 "Setup 시작", "버튼 디바운스 시간 설정 완료", "LED 핀 모드 설정 완료" 메시지를 확인합니다.
  - 업로드 후 초기화 시 디스플레이의 초기 상태를 확인합니다. ( 아무것도 나타나면 안됩니다. )

### (2) 대기 모드 (Mode 1) 테스트
- **목적:** 전원 버튼을 1초 이상 누른 후 해제 시 대기 모드로 전환되는지 확인
- **절차:**
  1. 전원 버튼을 길게(1초 이상) 누릅니다.
  2. 버튼에서 손가락을 뗍니다.
  3. 예상되는 결과:
     - `mode`가 1로 설정됨 (대기 모드)
     - 시간 세그먼트에 `"----"`이 출력됨
     - 인덕션 세그먼트에 `"---0"`이 출력됨
     - 음성 LED가 켜짐

### (3) 절전 모드 (Mode 2) 테스트
- **목적:** 두 번째로 전원 버튼을 1초 이상 누른 후 뗄어낼 때 절전 모드로 전환되는지 확인
- **절차:**
  1. 대기 모드 테스트 후, 전원 버튼을 다시 1초 이상 눌러 해제합니다.
  2. 예상되는 결과:
     - `mode`가 2로 설정됨 (절전 모드)
     - 시간 세그먼트와 인덕션 세그먼트에 공백("    ")이 출력되어 아무것도 표시되지 않음
     - 음성 LED가 꺼짐

### (4) 연속 모드 전환 테스트
- **목적:** 연속적으로 전원 버튼을 눌러 모드 전환이 올바르게 이루어지는지 확인
- **절차:**
  - 반복해서 전원 버튼을 1초 이상 눌렀다가 해제하여, 첫 번째 long press에서는 대기 모드, 두 번째 long press에서는 절전 모드가 순차적으로 설정되는지 확인합니다.
  - 각 모드 전환 시 디스플레이와 LED 상태가 예상대로 변경되는지 확인합니다.

## 5. 디버깅 참고 사항

- **하드웨어:** 모든 배선 및 연결 상태를 다시 한번 확인합니다.
- **소프트웨어:** 시리얼 모니터 로그를 참조하여 각 단계의 메시지가 출력되는지 확인합니다.
- **라이브러리:** ezButton과 TM1637 라이브러리가 최신 버전인지 확인합니다.

---

이 절차를 통해 프로젝트의 각 기능이 올바르게 동작하는지 확인할 수 있습니다. 문제가 발생하면 각 단계의 로그와 하드웨어 연결 상태를 재점검하시기 바랍니다.