# 04_codeTest.ino 코드 생성 프롬프트

## 프롬프트 내용

```
03_powerOnOffRepeat.ino 파일의 코드를 기반으로 테스트 목적의 코드를 작성해주세요. 테스트를 위해 다음 요구사항을 반영해주세요:

1. 코드 이름은 "04_codeTest.ino"로 저장해주세요.

2. 시간 단위를 분에서 초로 변경해주세요:
   - 가변저항으로 설정하는 시간이 분 단위가 아닌 초 단위로 동작하도록 변경
   - 최대 30초까지 설정 가능하도록 matchingTime 값 조정 (3시간에서 30초로)
   - 최소 시간을 5분에서 1초로 변경

3. 테스트 모드 기능 추가:
   - 테스트 모드를 나타내는 변수 추가 (testMode = true)
   - 테스트 사이클 카운트 변수 추가 및 화면에 표시
   - 최대 테스트 사이클 수 설정 (예: 10회)
   - 테스트 완료 시 시리얼 모니터에 완료 메시지 출력

4. 화면 표시 개선:
   - OLED 디스플레이 제목을 "Water Pump"에서 "Test Mode"로 변경
   - 현재 설정된 시간(초) 표시
   - 사이클 카운트 정보 표시

5. 디버깅 정보 출력 개선:
   - 디버깅 정보 출력 주기를 2.5초에서 1초로 단축
   - 현재 남은 시간 카운트다운 표시
   - 모터 상태 및 설정값 정보 출력 형식 개선

6. 주석 및 설명 추가:
   - 테스트 모드 관련 설명 추가
   - 초 단위 변환 관련 설명 추가
   - 테스트 모드에서 사용하는 변수 및 함수에 대한 설명 추가

코드 상단에 테스트 모드에 대한 설명과 함께 코드가 초 단위로 동작한다는 점을 명시해주세요. 최종 결과물은 빠르게 테스트할 수 있는 완전한 기능의 코드여야 합니다.
```

## 프롬프트 설명

이 프롬프트는 기존 온오프 모터 제어 프로그램을 테스트 목적으로 수정한 새 버전을 만들기 위한 지시사항입니다. 주요 변경사항으로는:

1. **시간 단위 변경**: 분 단위에서 초 단위로 변환하여 테스트 시간 단축
2. **테스트 모드 기능**: 사이클 카운트 및 테스트 완료 기능 추가
3. **UI 개선**: 테스트 모드용 화면 구성 변경
4. **디버깅 개선**: 더 자주, 더 상세한 정보 출력

이 프롬프트를 사용하여 실제 환경에서의 장시간 테스트 전에 시스템의 기본 기능을 빠르게 확인할 수 있는 테스트용 코드를 생성할 수 있습니다.

## 테스트 환경 설정

테스트 시 다음 환경을 구성하는 것이 좋습니다:

1. **하드웨어 설정**:
   - 아두이노 보드
   - 서보모터 2개 (핀 10, 11)
   - DHT22 센서 (핀 12)
   - 가변저항 2개 (핀 A0, A1)
   - OLED 디스플레이 (I2C)

2. **테스트 시나리오**:
   - 가변저항 값을 다양하게 조정하며 서보모터의 ON/OFF 주기 확인
   - 최소 10회 이상의 사이클 테스트
   - 극단적인 값(최소/최대) 테스트
   - 동작 중 가변저항 값 변경 시 동작 확인

3. **온라인 에뮬레이터**:
   - Wokwi 등의 온라인 에뮬레이터에서 사전 테스트 가능
   - 링크: https://wokwi.com/projects/424263110753710081

## 추가 고려사항

1. 테스트가 완료된 후에는 실제 환경에 맞는 시간 단위(분)로 복원할 필요가 있습니다.
2. 테스트 코드는 디버깅 목적으로만 사용하고, 실제 환경에서는 03_powerOnOffRepeat.ino 파일을 활용하세요.