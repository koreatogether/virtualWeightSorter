# Nextion HMI UI/UX 디자인 가이드

이 문서는 `boiler_4x_temp_monitoring` 프로젝트의 시각적 가독성, 사용성, 그리고 장시간 모니터링 시 시력 보호를 위한 디자인 표준을 정의합니다.

---

## 1. 디자인 철학 (Design Philosophy)
- **Dark Mode 우선:** TFT LCD의 빛 번짐과 눈의 피로를 최소화하기 위해 어두운 배경을 사용합니다.
- **데이터 중심:** 장식적인 요소보다는 숫자와 그래프의 가독성을 최우선으로 합니다.
- **일관성:** 모든 페이지는 동일한 머리글(Header)과 바닥글(Footer) 구조를 가집니다.

---

## 2. 컬러 팔레트 (Nextion 16-bit Color)

Nextion은 5-6-5 포맷의 16비트 색상을 사용합니다. 아래는 추천하는 눈이 편안한 색상표입니다.

| 요소           | 사용 목적                | HEX (참고용) | Nextion Code |
| :------------- | :----------------------- | :----------- | :----------- |
| **Background** | 기본 배경색 (Charcoal)   | #212121      | **4226**     |
| **Surface**    | 컴포넌트 박스, 구분선    | #333333      | **6336**     |
| **Normal**     | 정상 온도, 일반 텍스트   | #E0E0E0      | **59223**    |
| **Success**    | 시스템 연결됨, 정상 범위 | #4CAF50      | **2016**     |
| **Warning**    | 주의 온도 (임계치 근접)  | #FFB300      | **64928**    |
| **Danger**     | 위험 온도 (임계치 초과)  | #F44336      | **62566**    |
| **Accent**     | 선택된 탭, 강조 포인트   | #00BCD4      | **2010**     |

---

## 3. 공통 레이아웃 (Common Layout)

- **상단 (Y: 0~30):** 페이지 제목, WiFi 연결 상태 아이콘, 현재 시각.
- **본문 (Y: 35~200):** 각 페이지별 핵심 콘텐츠 영역.
- **하단 (Y: 210~240):** 페이지 이동 버튼 (Tabs).
    - `[HOME]` `[DELTA]` `[CHART]` `[SET]`

---

## 4. 페이지별 상세 디자인 (Page 0~3)

### Page 0: Overview (전체 요약)
- **목적:** 4개 센서의 온도와 시스템 생존 신호를 한눈에 파악.
- **추천 배치:** 2x2 그리드 형태의 카드 레이아웃.
- **디자인 포인트:** 
    - 온도 숫자는 최대한 크게 (폰트 40px 이상). 
    - 각 센서 카드 배경에 옅게 `S1`, `S2` 등의 텍스트를 고스트로 배치.
    - 하단에 [Log Record OK] 아이콘(초록색 점) 배치.

### Page 1: Delta Analysis (분배 분석)
- **목적:** `T1-T2`, `T3-T4`의 편차($\Delta T$)를 시각화.
- **추천 배치:** 좌우로 나누어 상단에는 숫자, 하단에는 **수평형 Progress Bar(`j0`)** 배치.
- **디자인 포인트:** 
    - 바의 정중앙을 0으로 설정하고 편차가 커질수록 바의 색상이 주황색으로 변하도록 구현.
    - 수치상 가장 높은 $\Delta T$ 위치에 ▽ 마커 표시.

### Page 2: Trend Graph (실시간 그래프)
- **목적:** 온도 변화 추이를 선형 그래프로 확인.
- **추천 배치:** 화면 전체를 **Waveform(`s0`)** 컴포넌트로 채움.
- **디자인 포인트:** 
    - T1~T4 각 선의 색상을 명확히 구분 (T1:파랑, T2:청록, T3:노랑, T4:보라).
    - 배경에 10도 단위의 옅은 가로 점선(Y-grid) 배치 (눈금 가독성).
    - [Stop/Run] 버튼을 우측 상단 투명 버튼으로 배치.

### Page 3: Settings (시스템 설정)
- **목적:** 경보 임계치 및 수집 주기 변경.
- **추천 배치:** 리스트 형식의 슬라이더(`h0`)와 수치 표시기.
- **디자인 포인트:** 
    - 슬라이더의 핸들은 크게 설계하여 터치 오작동 방지.
    - [Save] 버튼은 실수로 누르지 않도록 하단 우측에 크게 배치.
    - 현재 설정값이 변경되면 수치 텍스트 색상을 `Accent` 컬러로 변경하여 강조.

---

## 5. UI 가동 팁 (UX Tips)
1. **터치 피드백:** 모든 버튼은 눌렀을 때 배경색이 살짝 변하는 `vpic` 또는 `pco` 변경을 적용하세요.
2. **폰트 선택:** 영문/숫자는 가급적 고정폭 폰트(Monospace)를 사용하여 숫자가 바뀔 때 위치가 흔들리지 않게 합니다.
3. **업데이트 주기:** 아두이노에서 모든 데이터를 매 루프마다 보내기보다는, 1~2초 주기로 묶어서 보내야 통신 지연(Lag)이 발생하지 않습니다.

---

## 6. 한글 폰트 및 생성 가이드 (Font Selection Guide)

Nextion HMI에서 한글 가독성을 최적화하기 위한 가이드라인입니다.

### 추천 폰트 (Best Fonts)
- **Pretendard (최선책):** 자간과 획의 균형이 뛰어나 저해상도 LCD에서도 가독성이 가장 좋습니다.
- **본고딕 (Noto Sans KR):** 영문/숫자와 혼용 시 가장 깔끔하고 전문적인 느낌을 줍니다.
- **나눔고딕:** 획의 끝이 둥글어 장시간 모니터링 시 눈의 피로도가 적습니다.

### Font Creator 설정 유의사항
- **Anti-aliasing:** Discovery/Intelligent 모델 사용 시 반드시 **Yes (4-bit)**를 선택하여 글자 테두리를 부드럽게 처리하세요.
- **Character Range (중요):**
    - 한글 전체(11,172자)를 포함하면 메모리 부족이 발생할 수 있습니다.
    - **상용 한글 2,350자** 또는 프로젝트에서 실제 사용하는 글자 영역만 선택하는 것이 효율적입니다.
    - 숫자와 특수문자(`0x0020-0x007E`)는 기본 폰트에 반드시 포함되어야 합니다.
- **크기 권장:** 한글은 구조가 복잡하므로 최소 **20px 이상**을 권장하며, 핵심 데이터는 **Bold**체를 사용하세요.
