# Phase 2: 조합 알고리즘 성능 테스트

## 목표
2000g 목표(±70g 허용)에 최적화된 조합 알고리즘 비교

---

## Step 2.1: 알고리즘 구현

### Algorithm 1: Random Sampling (기준선) 체크리스트
- [ ] 1000회 무작위 조합 시도 로직 구현
- [ ] 목표 범위 내 최선 조합 선택 알고리즘 구현
- [ ] Arduino R4 제약: 500회로 축소 적용

### Algorithm 2: Greedy + Local Search 체크리스트
- [ ] 큰 무게부터 정렬 기능 구현
- [ ] 탐욕적 선택 (2000g 초과 시 중단) 로직 구현
- [ ] 부족분을 위한 교체 최적화 (2-swap) 구현
- [ ] Arduino R4 최적화: 비트마스크 사용 적용

### Algorithm 3: Dynamic Programming (제한적) 체크리스트

#### Arduino R4 Minima (32KB RAM) 구현
- [ ] 근사 DP: 무게를 10g 단위로 반올림 적용
- [ ] 배낭 크기: 200 (2000g/10g) 설정
- [ ] 실행 가능성 우선 검토 완료

#### Arduino R4 WiFi (32KB RAM + WiFi) 구현
- [ ] WiFi 모듈 메모리 사용량 고려사항 적용
- [ ] 더 제한적인 근사치 적용

---

## Step 2.2: 100,000회 본격 테스트

### 테스트 매트릭스 체크리스트
- [ ] 6 생성기 × 3 알고리즘 = **18조합** 테스트 환경 구성

### Arduino R4 특화 측정 항목 체크리스트
- [ ] **successRate**: 1930-2070g 달성률 측정
- [ ] **avgError**: |2000 - actual| 평균 측정
- [ ] **maxRAM**: 최대 메모리 사용량 측정
- [ ] **avgTime**: 평균 실행시간 (ms) 측정
- [ ] **maxTime**: 최대 실행시간 측정
- [ ] **stackOverflows**: 스택 오버플로우 횟수 기록
- [ ] **timeouts**: 5초 초과 케이스 기록

### Arduino R4 제약 조건 검증 체크리스트
- [ ] **메모리**: 32KB RAM 한계 (실제 사용 가능: ~28KB) 준수
- [ ] **처리 시간**: 박스당 5초 이내 목표 달성
- [ ] **스택 크기**: 재귀 호출 최소화 적용

---

## 테스트 실행 체크리스트

### 18가지 조합 테스트
- [ ] Arduino random() + Random Sampling
- [ ] Arduino random() + Greedy + Local Search
- [ ] Arduino random() + Dynamic Programming
- [ ] XorShift32 + Random Sampling
- [ ] XorShift32 + Greedy + Local Search
- [ ] XorShift32 + Dynamic Programming
- [ ] Hybrid + Random Sampling
- [ ] Hybrid + Greedy + Local Search
- [ ] Hybrid + Dynamic Programming
- [ ] 숙련자 모델 + Random Sampling
- [ ] 숙련자 모델 + Greedy + Local Search
- [ ] 숙련자 모델 + Dynamic Programming
- [ ] 초보자 모델 + Random Sampling
- [ ] 초보자 모델 + Greedy + Local Search
- [ ] 초보자 모델 + Dynamic Programming
- [ ] 랜덤 작업자 + Random Sampling
- [ ] 랜덤 작업자 + Greedy + Local Search
- [ ] 랜덤 작업자 + Dynamic Programming

### 성능 데이터 수집 체크리스트
- [ ] 각 조합별 100,000회 테스트 실행 완료
- [ ] ArduinoTestResult 구조체로 데이터 수집 완료
- [ ] 메모리 사용량 프로파일링 완료
- [ ] 실행 시간 분석 완료
- [ ] 에러율 및 성공률 계산 완료

---

## Phase 2 완료 기준

### 최종 검증 체크리스트
- [ ] 모든 알고리즘 구현 완료 및 정상 동작 확인
- [ ] 18가지 조합 테스트 완료
- [ ] Arduino R4 제약 조건 준수 확인
- [ ] 성능 데이터 수집 및 정리 완료
- [ ] 메모리/시간 한계 테스트 완료
- [ ] Phase 3 분석을 위한 데이터 준비 완료

---

## 참고사항
- Arduino R4 Minima와 WiFi 버전 차이점 고려
- 스택 오버플로우 방지를 위한 메모리 관리
- 실시간 처리 요구사항 고려
- 다음 Phase를 위한 상세 성능 데이터 보존