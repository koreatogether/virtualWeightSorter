가정에서 금붕어 4마리와 상추 8포트를 위한 소형 아쿠아포닉스 시스템을 아두이노 기반으로 구축할 때, 다음과 같은 구성과 자동화 전략을 추천합니다:

### **1. 핵심 구성 요소**
- **아두이노 컨트롤러**: 아두이노 우노(Arduino Uno) 또는 ESP8266/ESP32 (WiFi 지원)를 사용해 센서 데이터 수집 및 릴레이 제어.
- **수중 펌프 & 릴레이 모듈**: 
  - 금붕어 수조와 상추 재배 구역을 연결하는 **3.5W 이하 미니 펌프** (과도한 유량 방지).
  - **4채널 릴레이 모듈**로 펌프와 LED 식물등 제어 (Velog 및 블로그 참조).
- **센서 시스템**:
  - **토양 수분 센서**: 상추 포트별 수분 상태 모니터링 (2~4개 센서 설치).
  - **수질 센서**: pH, 암모니아, 질산염 측정 (금붕어 건강 및 식물 영양 관리용).
  - **수온 센서**: 금붕어 서식 환경 최적화.
- **타이머/실시간 클럭(RTC) 모듈**: 일정한 간격(예: 30분)으로 펌프 작동 및 조명 제어.

### **2. 시스템 설계**
- **순환 구조**: 
  - 금붕어 수조 → 펌프 → 상추 재배 구역(상층) → 중력에 의한 배수 → 여과 단계(자갈/모래) → 수조 재순환.
  - 계단식 설계로 자연스러운 물 흐름 구현 (블로그 "아쿠아포닉스 미니재배시설" 참조).
- **재배 구역**: 
  - 상추 포트에 **맥반석** 또는 **수정토** 사용해 뿌리 고정 및 지지.
  - 포트당 토양 수분 센서로 과습/건조 방지.

### **3. 아두이노 자동화 로직**
- **펌프 제어**: 
  - RTC 모듈로 매일 3회 10분간 펌프 작동 (물 순환).
  - 수분 센서 값이 30% 미만일 때 추가 급수 (Velog 스마트팜 참조).
- **조명 제어**: 
  - LED 식물등을 RTC로 12시간 주기 작동 (광합성 효율 극대화).
- **경고 시스템**: 
  - pH >8 또는 암모니아 농도 상승 시 부저/LED 경고.

### **4. 추가 고려 사항**
- **여과 시스템**: 자갈/모래를 이용한 생물학적 여과로 수질 정화.
- **에너지 효율**: 태양광 패널 연결로 지속 가능한 운영 가능 (선택적).
- **IoT 확장**: ESP32 + WiFi로 실시간 모니터링 대시보드 구축 (Velog 참조).

### **5. 학습 자료 활용**
- **플래니토 키트 교재**의 "아쿠아포닉스 시스템 만들기" 실습 단계를 참고해 기본 회로 구성.
- 유튜브 튜토리얼(DIY Hydroponic Garden)로 펌프-릴레이 연결 방법 확인.

이 시스템은 아두이노의 센서 및 제어 기능을 활용해 물과 영양분의 균형을 유지하며, 금붕어와 상추의 공생 환경을 자동화합니다. 초기 설계 시 펌프 출력과 포트 배치를 신중히 계획해 물 넘침을 방지하는 것이 중요합니다.