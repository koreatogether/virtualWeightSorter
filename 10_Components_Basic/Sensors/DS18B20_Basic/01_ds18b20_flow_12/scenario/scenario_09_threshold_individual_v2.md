# 시나리오 09_#2: 센서별 임계값(th/tl) 및 상태 경고 테스트

## 목적
- 각 센서에 서로 다른 th/tl(상한/하한) 임계값을 설정
- 센서의 현재 온도를 임의로 변경하여 상한/하한을 벗어날 때 상태 표시(경고)가 정상적으로 출력되는지 유닛테스트로 검증

## 전제 조건
- DS18B20 센서 4개 연결
- 각 센서에 고유 ID가 할당됨 (1, 2, 3, 4)
- DataProcessor의 th/tl 배열 및 getTh/getTl 함수 사용

## 테스트 단계

### 1. 센서별 임계값(th/tl) 설정
| 센서 | ID  | th(상한) | tl(하한) |
| ---- | --- | -------- | -------- |
| 1    | 1   | 30       | 10       |
| 2    | 2   | 40       | 20       |
| 3    | 3   | 50       | 30       |
| 4    | 4   | 60       | 40       |

### 2. 센서별 현재 온도 임의 변경 및 경고 테스트
각 센서별로 정상 범위 온도 20개, 비정상(상한/하한 초과) 온도 40개씩 자동 반복 테스트
예시:
| 센서 | 온도        | 기대 상태             |
| ---- | ----------- | --------------------- |
| 1    | 15~29       | 이상없음 (20개)       |
| 1    | 5~9, 31~68  | 상한/하한 경고 (40개) |
| 2    | 21~40       | 이상없음 (20개)       |
| 2    | 10,19,41~78 | 상한/하한 경고 (40개) |
| 3    | 31~50       | 이상없음 (20개)       |
| 3    | 20,29,51~78 | 상한/하한 경고 (40개) |
| 4    | 41~60       | 이상없음 (20개)       |
| 4    | 30,39,61~98 | 상한/하한 경고 (40개) |

### 3. 유닛테스트 검증 항목
- 각 센서별로 th/tl 값이 정상적으로 설정됨을 확인
- 각 센서별로 정상 20개, 비정상 40개 온도 케이스를 자동 반복하며 상태 문자열을 검증
- 정상 범위일 때는 "이상없음" 상태가 출력됨
- 상한 초과/하한 미만이면 "상한 초과 경고", "하한 미만 경고"가 정확히 출력됨

### 4. 예시 출력
```
| Sensor | ID  | Temp | th  | tl  | 상태           |
| ------ | --- | ---- | --- | --- | -------------- |
| 1      | 1   | 15   | 30  | 10  | 이상없음       |
| 1      | 1   | 35   | 30  | 10  | 상한 초과 경고 |
| 1      | 1   | 5    | 30  | 10  | 하한 미만 경고 |
| ...    | ... | ...  | ... | ... | ...            |
| 4      | 4   | 41   | 60  | 40  | 이상없음       |
| 4      | 4   | 61   | 60  | 40  | 상한 초과 경고 |
| 4      | 4   | 30   | 60  | 40  | 하한 미만 경고 |
```

### 5. 테스트 코드 작성 가이드
- MockDS18B20_Sensor에서 setTemperatureById(id, temp) 함수 활용
- DataProcessor에서 setThreshold(id, th, tl)로 임계값 설정
- printSensorTable() 또는 상태 표시 함수에서 경고 메시지 검증
- 각 케이스별로 TEST_ASSERT_EQUAL로 상태 문자열 검증

---
*작성일: 2025-07-27*
*담당: 자동화 시나리오 생성*
