# 전체 기능 회귀 테스트 체크리스트 v6.12

## 테스트 목적
- 펌웨어 v6.12의 모든 핵심 기능 검증
- 기존 기능의 회귀(regression) 방지 확인
- 새로 추가된 센서 에러 처리 기능 검증
- 메뉴 취소 기능(m→5 문제) 해결 확인

## 테스트 환경
- **하드웨어**: Arduino UNO R4 WiFi (Renesas RA4M1)
- **펌웨어 버전**: v6.12
- **테스트 프레임워크**: Unity + Mock 객체
- **컴파일러**: MinGW g++

---

## 1. 사전 준비 체크리스트

### 1.1 컴파일 및 업로드 확인
- [ ] 펌웨어 v6.12 컴파일 성공 (75140 bytes, 28% 메모리 사용)
- [ ] Arduino UNO R4 WiFi 업로드 성공
- [ ] 시리얼 통신 정상 작동 (115200 baud)
- [ ] 초기 메시지 출력 확인

### 1.2 테스트 환경 준비
- [ ] Unity 테스트 프레임워크 컴파일 성공
- [ ] Mock 객체들 정상 작동 확인
- [ ] FakeArduino 라이브러리 호환성 확인
- [ ] 테스트 실행 스크립트 정상 작동

---

## 2. 핵심 기능 테스트 (시나리오 1-10)

### 2.1 센서 테이블 표시 기능 (Scenario 1)
- [ ] 센서 검색 및 테이블 생성
- [ ] 온도 데이터 표시 정확성
- [ ] 센서 ID 올바른 표시
- [ ] 실시간 업데이트 확인

### 2.2 메뉴 진입/취소 기능 (Scenario 2)
- [ ] 'm' 또는 'menu' 명령어로 메뉴 진입
- [ ] 메뉴 옵션 정확한 표시
- [ ] '5' 또는 'cancel' 명령어로 취소
- [ ] 정상 모드로 복귀 확인

### 2.3 개별 센서 ID 변경 (Scenario 3)
- [ ] 메뉴 → 옵션 1 → 센서 선택
- [ ] 새로운 ID 입력 및 적용
- [ ] 변경 결과 확인
- [ ] 에러 처리 (중복 ID, 잘못된 범위)

### 2.4 선택적 센서 ID 변경 (Scenario 4)
- [ ] 메뉴 → 옵션 2 → 다중 센서 선택
- [ ] 새로운 ID들 입력 및 적용
- [ ] 변경 결과 확인
- [ ] 선택 취소 기능

### 2.5 자동 ID 할당 (Scenario 5)
- [ ] 메뉴 → 옵션 3 → 자동 할당 실행
- [ ] 순차적 ID 할당 확인 (1, 2, 3...)
- [ ] 할당 결과 테이블 표시
- [ ] 충돌 방지 검증

### 2.6 모든 ID 초기화 (Scenario 6)
- [ ] 메뉴 → 옵션 4 → 전체 초기화
- [ ] 확인 메시지 표시
- [ ] 모든 센서 ID가 0으로 변경 확인
- [ ] 초기화 후 테이블 업데이트

### 2.7 잘못된 입력 처리 (Scenario 7)
- [ ] 메뉴에서 잘못된 옵션 입력
- [ ] 센서 선택 시 잘못된 번호
- [ ] ID 입력 시 잘못된 값
- [ ] 에러 메시지 적절성

### 2.8 센서 에러 처리 (Scenario 8) ⭐ v6.12 신규
- [ ] 센서 연결 해제 상황
- [ ] 5회 재시도 메커니즘 확인
- [ ] 30초 타임아웃 처리
- [ ] No-sensor 모드 전환
- [ ] 에러 메시지 출력

### 2.9 임계값 설정 (Scenario 9)
- [ ] 개별 센서 임계값 설정
- [ ] 전역 임계값 설정
- [ ] 임계값 초과 시 알림
- [ ] 임계값 조회 기능

### 2.10 메모리 사용량 모니터링 (Scenario 10)
- [ ] 실시간 메모리 사용량 표시
- [ ] CSV 로그 파일 생성
- [ ] 메모리 부족 경고
- [ ] 가비지 컬렉션 동작

---

## 3. 새로운 기능 테스트 (시나리오 11)

### 3.1 메뉴 취소 기능 강화 ⭐ v6.12 수정
- [ ] 메인 메뉴에서 'm' → '5' 취소 동작
- [ ] 임계값 메뉴에서 취소 동작
- [ ] 연속적인 취소 작업 안정성
- [ ] 취소 후 입력 버퍼 정리
- [ ] 잘못된 입력 후 취소 처리
- [ ] 상태 전환 플래그 정확성

---

## 4. 통합 테스트

### 4.1 동시 작업 테스트
- [ ] 센서 데이터 읽기 + 메뉴 조작
- [ ] ID 변경 중 센서 에러 발생
- [ ] 메모리 모니터링 + 임계값 확인
- [ ] 다중 센서 작업 안정성

### 4.2 장시간 동작 테스트
- [ ] 30분 연속 동작 안정성
- [ ] 메모리 누수 없음 확인
- [ ] 센서 재연결 자동 처리
- [ ] 시스템 리소스 정상 사용

### 4.3 에러 복구 테스트
- [ ] 센서 연결 해제 후 재연결
- [ ] 시리얼 통신 오류 복구
- [ ] 메뉴 상태 오류 복구
- [ ] 메모리 오류 복구

---

## 5. 성능 테스트

### 5.1 응답 시간 측정
- [ ] 메뉴 응답 시간 < 100ms
- [ ] 센서 데이터 읽기 < 1초
- [ ] ID 변경 작업 < 2초
- [ ] 테이블 업데이트 < 500ms

### 5.2 메모리 사용량 검증
- [ ] Flash 메모리 사용량 < 30%
- [ ] SRAM 사용량 < 70%
- [ ] 메모리 누수 없음
- [ ] 가비지 컬렉션 효율성

---

## 6. 사용자 경험 테스트

### 6.1 메시지 출력 확인
- [ ] 한글 메시지 정확한 표시
- [ ] 에러 메시지 명확성
- [ ] 도움말 정보 완성도
- [ ] 상태 표시 정확성

### 6.2 입력 처리 확인
- [ ] 대소문자 구분 없이 처리
- [ ] 공백 문자 제거 처리
- [ ] 엔터키 입력 처리
- [ ] 특수 문자 입력 처리

---

## 7. 최종 검증

### 7.1 모든 테스트 시나리오 통과
- [ ] Scenario 1-11 모두 PASS
- [ ] Unity 테스트 0 Failures
- [ ] Mock 객체 테스트 정상
- [ ] 통합 테스트 성공

### 7.2 테스트 코드/Mock 환경 일치성 검증
- [ ] 테스트 코드의 입력 처리 방식이 실제 App 로직과 일치하는지 확인
- [ ] Mock 객체 입력 큐/상태 관리가 정상적으로 동작하는지 검증

### 7.2 문서화 완성도
- [ ] 변경 로그 업데이트
- [ ] 사용자 매뉴얼 업데이트
- [ ] 기술 문서 정확성
- [ ] 테스트 결과 보고서

---

## 8. 회귀 테스트 기준

### 8.1 성공 기준
- ✅ **모든 기존 기능 정상 동작**
- ✅ **새로운 기능 요구사항 충족**
- ✅ **성능 기준 만족**
- ✅ **안정성 기준 만족**
 - ✅ **테스트 코드와 실제 펌웨어 로직의 입력/상태 전이 일치**

### 8.2 실패 기준
- ❌ 기존 기능 중 하나라도 실패
- ❌ 새로운 기능 불완전
- ❌ 성능 저하 발생
- ❌ 메모리 누수 발견

---

## 9. 테스트 실행 순서

1. **사전 준비** → 컴파일/업로드 확인
2. **단위 테스트** → Scenario 1-11 개별 실행
3. **통합 테스트** → 전체 시나리오 조합 실행
4. **성능 테스트** → 응답시간/메모리 측정
5. **장시간 테스트** → 30분 연속 동작
6. **최종 검증** → 모든 결과 종합 평가
 7. **Mock 환경/테스트 코드 검증** → 입력 방식, 상태 전이, 메뉴 옵션 값 등 실제 로직과 일치 여부 확인

---

## 10. 테스트 자동화 명령어

```bash
# 전체 회귀 테스트 실행
.\run_test.bat all

# 개별 시나리오 테스트
.\run_test.bat scenario1
.\run_test.bat scenario2
# ... scenario11까지

# 새로운 전체 시나리오 테스트
.\run_test.bat scenario_total_01
```

---

**최종 업데이트**: 2025년 7월 28일  
**테스트 담당**: 시스템 검증팀  
**승인 필요**: 펌웨어 v6.12 릴리즈 전 모든 항목 완료 필수
