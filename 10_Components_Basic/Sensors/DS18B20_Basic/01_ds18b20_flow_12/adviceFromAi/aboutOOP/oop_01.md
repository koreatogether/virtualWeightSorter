## 4. 클래스 다이어그램 비교

### 4.1. As-Is (현재 구조)

```
+---------------------+      +--------------------+      +---------------------+
|         App         |----->|  DS18B20_Sensor    |----->| DallasTemperature   |
+---------------------+      +--------------------+      +---------------------+
| - currentAppState   |      | - _sensors         |
| - ... (many vars) |  |  |
| ----------------- || + begin()          |
| + run()             |      | + getDeviceCount() |
| + processMenuInput()|      | + getTempC()       |
| + processEditId()   |      | + ...              |
| + ... (many funcs)  |      +--------------------+
+---------------------+
       |
       |      +--------------------+      +---------------------+
       +----->|   DataProcessor    |----->|     Communicator    |
              +--------------------+      +---------------------+
              | - _sensorManager   |      |                     |
              | - _comm |  | --------------------- |
              | ------- || + begin()           |
              | + printSensorTable()|     | + println()         |
              | + ...              |      | + read...()         |
              +--------------------+      +---------------------+
```

### 4.2. To-Be (개선 후 구조)

```
                                      +--------------------------+
                                      |  <<interface>>           |
                                      |   AppStateBase           |
                                      +--------------------------+
                                      | + virtual execute() = 0; |
                                      +--------------------------+
                                           ^
                                           |
                  +------------------------+------------------------+ ...
                  |                        |                        |
+-------------------------+    +-------------------------+    +--------------------+
|  NormalOperationState   |    |        MenuState        |    |   EditIdState      |
+-------------------------+    +-------------------------+    +--------------------+
| + execute()             |    | + execute()             |    | + execute()        |
+-------------------------+    +-------------------------+    +--------------------+


+---------------------+      +--------------------------+      +--------------------+
| App | -----> | AppStateBase |  | MenuManager |
| --- ||      (current state)     |      |--------------------|
| - _currentState     |      +--------------------------+      | + displayMenu()    |
| - _sensorManager    |                                        | + registerCallback()|
| - _dataProcessor    |                                        +--------------------+
| - _comm |  |
| ------- |V
| + run()             |      +--------------------------+      +--------------------+
| + changeState()     |----->|  <<interface>>           |      |    Communicator    |
+---------------------+      | IdAssignmentStrategy     |      +--------------------+
                             +--------------------------+
                                    ^
                                    |
                  +-----------------+------------------+ ...
                  |                 |                  |
+--------------------------+  +--------------------------+
| AutoAssignByAddrStrategy |  |   ManualAssignStrategy   |
+--------------------------+  +--------------------------+
| + assign()               |  | + assign()               |
+--------------------------+  +--------------------------+


+--------------------+      +--------------------+      +--------------------+
| DataProcessor | -----> | DS18B20_Sensor |  | SensorTableView |
| ------------- |+--------------------+      |--------------------|
| + processData()    |                                  | + display()        |
+--------------------+                                  +--------------------+
```

## 5. 결론