# 아직 적용되지 않은 개선 권장 사항

## 현재 상태: DS18B20 + 메모리 분석 통합 시스템 완성 (2025-07-28)

✅ **이미 완료된 항목들:**
- DS18B20 온도 센서 + 실시간 메모리 분석 완전 통합
- Unity 테스트 프레임워크 기반 단위 테스트 환경 구축
- Mock 객체 활용한 독립적 테스트 시스템
- 상세한 문서화 (README, changelog, 가이드 등)
- 프로젝트 구조 정리 및 최적화
- GitHub Actions CI/CD 기초 설정

---

## 🎯 향후 적용 권장 사항

### 1. 하드코딩된 설정값의 비유연성 개선
**현재 문제점:** `config.h` 파일에 `ONE_WIRE_BUS`, `SENSOR_COUNT` 등이 상수로 하드코딩되어 있음

**개선 권장:**
- **EEPROM 활용:** 런타임에 설정 변경 및 저장 가능하도록 개선
- **설정 메뉴:** 시리얼 명령어로 핀 번호, 센서 개수 등 동적 변경
- **우선순위:** 중간 (현재 하드코딩으로도 충분히 동작하나, 유연성 향상 가능)

### 2. 테스트 코드의 전역 변수 의존성 해결
**현재 문제점:** `test/test_main.cpp`에서 Mock 객체들이 전역 변수로 선언되어 테스트 독립성 저해

**개선 권장:**
- Unity의 `setUp()`/`tearDown()` 함수 적극 활용
- 각 테스트 케이스마다 객체 생성/해제로 완벽한 격리 보장
- **우선순위:** 높음 (테스트 신뢰성과 직결)

### 3. 빌드 시스템 현대화
**현재 문제점:** `run_test.bat` 스크립트가 수동 관리 방식으로 확장성 낮음

**개선 권장:**
- **Makefile 또는 CMake 도입:** 자동 소스 탐지 및 종속성 관리
- **자동화 스크립트:** `test/` 디렉토리 내 모든 `test_*.cpp` 자동 처리
- **우선순위:** 중간 (현재도 동작하나, 확장성과 유지보수성 향상)

### 4. 치명적인 오류 처리 방식 개선
**현재 문제점:** `App::initialize18b20()`에서 센서 미발견 시 `while(true)` 무한 루프

**개선 권장:**
- 무한 루프 대신 주기적 재검색 시도
- 사용자에게 명확한 오류 메시지 및 해결 방법 안내
- **우선순위:** 높음 (운영 환경에서 치명적 문제 가능성)

### 5. 사용자 입력 처리 강화
**현재 문제점:** `toInt()` 변환 시 비숫자 입력에 대한 검증 부족

**개선 권장:**
- 입력값 숫자 검증 로직 추가 (`isDigit()` 함수 활용)
- 잘못된 입력에 대한 명확한 피드백 제공
- **우선순위:** 중간 (사용자 경험 개선)

---

## 📋 적용 우선순위

### 🚨 높은 우선순위
1. **치명적인 오류 처리 방식 개선** - 운영 안정성
2. **테스트 코드 전역 변수 의존성 해결** - 테스트 신뢰성

### ⚡ 중간 우선순위  
3. **하드코딩된 설정값 개선** - 시스템 유연성
4. **빌드 시스템 현대화** - 개발 효율성
5. **사용자 입력 처리 강화** - 사용자 경험

---

*참고: 레거시 `.ino` 파일과 C-스타일 코드 문제는 현재 통합 시스템에서 해결되었습니다.*

 CI/CD 구성 (★★★☆☆)
GitHub Actions 기반 CI/CD 워크플로우가 계획되어 있으나, 현재는 기초 설정만 완료된 상태입니다. 향후 개선 여지가 있습니다.

CI/CD 파이프라인 완전 구현
크로스 플랫폼 빌드 시스템 도입 (CMake/Makefile)
메모리 사용량 최적화 (아직 구체적인 메모리 누수 검사가 구현되지 않음)


1. **단위 테스트는 전체 흐름을 검증해야 함**: 개별 함수뿐만 아니라 통합 동작도 중요
2. **테스트 데이터는 의미 있어야 함**: 양보다 질, 경계값에 집중
3. **Mock 객체의 검증 기능**: 출력이나 상태 변화를 검증할 수 있는 기능 필요
4. **테스트 간 독립성**: 각 테스트가 서로 영향을 주지 않도록 상태 초기화 중요