# Arduino 키패드 잠금 장치 시나리오

## 시스템 개요
4x4 매트릭스 키패드를 이용한 전자 잠금 시스템으로, 비밀번호 입력을 통해 서보모터 기반 잠금장치를 제어합니다.

## 주요 구성요소
- **키패드**: 4x4 매트릭스 (숫자 0-9, *, #, A-D)
  - 핀 연결: rowPins[9,8,7,6], colPins[5,4,3,2]
- **서보모터**: 잠금/해제 제어용 (0도: 잠금, 180도: 해제)
  - 핀 연결: 10번 핀
- **부저**: 보안 경고음 (12번 핀)
- **수동 해제 버튼**: 비상용 물리적 해제 (11번 핀, 풀업 저항)

## 시스템 모드
- **IDLE**: 대기 모드 (정상 작동)
- **SECURITY_LOCKDOWN**: 보안 잠금 모드 (5회 실패 시)

## 기본 작동 시나리오

### 1. 비밀번호 입력
- 입력 형식: `*XXXXXX#` 또는 `*XXXXXX*`
  - `*`: 시작 구분자
  - `XXXXXX`: 6자리 비밀번호 (기본값: "123456")
  - `#` 또는 `*`: 종료 구분자
- **입력 타임아웃**: 10초 이내 입력 완료 필요
- **디바운스 처리**: 200ms 간격으로 키 입력 제한

### 2. 정상 잠금해제
**조건**: 올바른 비밀번호 입력 시
- 서보모터가 0도→180도로 회전하여 잠금 해제
- **5초 후** 자동으로 0도로 복귀하여 재잠금
- 실패 카운터 초기화
- 시리얼 모니터에 "Correct password entered" 출력

### 3. 잠금해제 실패
**조건**: 잘못된 비밀번호 입력 시
- 서보모터 동작 없음
- 실패 카운터 증가 (최대 5회)
- 시리얼 모니터에 "Wrong password" 출력

### 4. 보안 잠금 활성화
**조건**: 5회 연속 실패 시
- **2분간 모든 기능 잠금**
- **1분간 부저 경고음** (1초 간격 on/off)
- 수동 해제 버튼 비활성화
- 시리얼 출력: "Maximum attempts exceeded - security lockdown activated"

### 5. 수동 해제
**조건**: 물리적 버튼 사용 (보안 잠금 시 제외)
- 11번 핀 버튼을 눌러 즉시 해제
- 5초 후 자동 재잠금
- 디바운스 처리: 200ms




===================================================

💻 아두이노 구현 시 추가 팁
상태 관리: 상태라는 변수(예: int systemState = 0;)를 만들어서 현재 시스템이 '대기중', '비밀번호 입력중', '관리자 모드', '완전 잠금' 중 어떤 상태인지 관리하면 코드가 훨씬 깔끔해집니다.

비휘발성 메모리(EEPROM): 설정된 비밀번호나 관리자 비밀번호는 전원이 꺼져도 저장되어야 하므로, 아두이노의 EEPROM에 저장하는 것이 좋습니다.

피드백: 사용자에게 현재 상태를 알려주기 위해 LED(성공:녹색, 실패:빨간색, 관리자모드:파란색 점멸)나 피에조 부저를 함께 사용하면 훨씬 완성도 높은 장치가 될 것입니다.

===================================================
